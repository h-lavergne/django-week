{% extends "../base.html" %}

{% block title %}Django app - Jobs{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="d-flex justify-content-end">
        <a href="/job/create" class="btn btn-success rounded my-1">Create a job</a>
    </div>
</div>


{% for job in page_obj %}
<div class="container-fluid mb-4">
  <div class="card shadow big" style="border-radius: 12px">
      <div class="card-body p-2 my-4">
          <div class="container-fluid d-flex align-items-center justify-content-between px-5">
              <div>
                  <h1>{{ job.title }}</h1>
                  <h4>{{ job.company }}</h4>
                  <p class="lead mt-2">{{ job.description|truncatechars:150 }}<p>
              </div>
              <a href="/job/{{ job.id }}/" class="btn btn-success" style="min-width: 150px;">View more</a>
          </div>
      </div>
  </div>
</div>
{% endfor %}

{% if page_obj|length > 0 %}
<div class="container-fluid my-4">
    <div class="pagination">
      <span class="step-links">
          {% if page_obj.has_previous %}
              <a href="?page=1" class="btn btn-success">first</a>
              <a href="?page={{ page_obj.previous_page_number }}" class="btn btn-success">previous</a>
          {% endif %}
    
          <span class="current mx-4">
              Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
          </span>
    
          {% if page_obj.has_next %}
              <a href="?page={{ page_obj.next_page_number }}" class="btn btn-success">next</a>
              <a href="?page={{ page_obj.paginator.num_pages }}" class="btn btn-success">last</a>
          {% endif %}
      </span>
    </div>
</div>
{% else %}
<div class="container-fluid my-4">
    <h2 class="text-center" style="font-weight: 300 !important;">No data found</h2>
</div>
{% endif %}

{% endblock %}